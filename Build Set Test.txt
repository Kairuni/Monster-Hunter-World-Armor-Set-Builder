drop table if exists hws;
drop table if exists tws;
drop table if exists aws;
drop table if exists wws;
drop table if exists lws;
drop table if exists tempSkill;
create temporary table tempSkill as select ID from Skills where name in ("Attack Boost", "Handicraft");
create temporary table hws as select * from HelmSkillView where SID in tempSkill;
insert into hws values (0, "ANY", 0, 0, 0, 0, 0);
create temporary table tws as select * from TorsoSkillView where SID in tempSkill;
insert into tws values (0, "ANY", 0, 0, 0, 0, 0);
create temporary table aws as select * from ArmSkillView where SID in tempSkill;
insert into aws values (0, "ANY", 0, 0, 0, 0, 0);
create temporary table wws as select * from WaistSkillView where SID in tempSkill;
insert into wws values (0, "ANY", 0, 0, 0, 0, 0);
create temporary table lws as select * from LegsSkillView where SID in tempSkill;
insert into lws values (0, "ANY", 0, 0, 0, 0, 0);


select distinct hws.name as [Helm], tws.name as [Armor], aws.name as [Bracers], wws.name as [Belt], lws.name as [Greaves], 6 as SID_TEST, 4 as LEVEL_TEST, 44 as SID_TEST2, 3 as LEVEL_TEST2
from hws, tws, aws, wws, lws
where 
    (
    select sum(Level)
    from EquipmentSkills as ES
    where 
        (SID = SID_TEST and (ES.EID = hws.ID or ES.EID = tws.ID or ES.EID = aws.ID or ES.EID = wws.id or ES.EID = lws.ID))
    ) >= LEVEL_TEST
and 
    (
    select sum(Level)
    from EquipmentSkills as ES
    where 
        (SID = SID_TEST2 and (ES.EID = hws.ID or ES.EID = tws.ID or ES.EID = aws.ID or ES.EID = wws.id or ES.EID = lws.ID))
    ) >= LEVEL_TEST2;